(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{14:function(e,a,t){e.exports=t(25)},24:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),o=t.n(l),c=t(1);var u=Object(c.b)((function(e){return{startGame:e.gameStarted,gameEnd:e.gameEnd,winner:e.winner,notes:e.notes}}),(function(e){return{generateBoard:function(a){return e({type:"GENERATE_BOARD",payload:a})},acceptPlacement:function(){return e({type:"ACCEPT_SHIP_PLACEMENT",playload:null})},endGame:function(){return e({type:"END_GAME",playload:null})},hideNotes:function(){return e({type:"HIDE_NOTES",playload:null})}}}))((function(e){var a=e.generateBoard,t=e.startGame,n=e.acceptPlacement,l=e.endGame,o=e.gameEnd,c=e.winner,u=e.notes,i=e.hideNotes;return r.a.createElement("div",{className:"game-controls"},t?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return a(!0)}},"Generate Board"),r.a.createElement("button",{onClick:function(){return n()}},"Start Game")),r.a.createElement("button",{onClick:function(){return i()}},u?"Hide Notes":"Show Notes"),o?r.a.createElement("h2",null,"Game Over! ",c," Wins!"):null,t?r.a.createElement("button",{onClick:function(){return l()}},"End Game"):"",u?r.a.createElement("p",{className:"notes"},"As of right now you can only place your ships on the board programatically. Clicking the"," ",r.a.createElement("code",null,"Generate Board")," button will place the ships on the board in a random configuration. Keep pressing the ",r.a.createElement("code",null,"Generate Board")," until you have a placement that is acceptable, then press the ",r.a.createElement("code",null,"Start Game")," button. When ready to fire, select a tile on the right hand board and click. The game log towards the bottom left keeps track of the last 10 moves by the player and computer. The sunk ships column tracks which ships have been sunk. The game will continue until either use sinks 5 ships or the ",r.a.createElement("code",null,"End Game")," button is selected."):null)}));function i(){return r.a.createElement("div",{className:"grid-header"},["","A","B","C","D","E","F","H","I","J","K"].map((function(e){return r.a.createElement("span",{className:"row-item",key:"header-item-".concat(e)},e)})))}var s=t(4);function m(){var e=Object(s.a)(Array(10).keys());return r.a.createElement("div",{className:"col"},e.map((function(e){return r.a.createElement("span",{className:"row-item",key:"side-item-".concat(e)},e+1)})))}var p=Object(c.b)((function(e){return{playerBoard:e.playerBoard}}))((function(e){var a=e.playerBoard;return r.a.createElement("div",{className:"grid"},r.a.createElement(i,null),r.a.createElement("div",{className:"grid-container"},r.a.createElement(m,null),r.a.createElement("div",{className:"col"},a.map((function(e,a){return r.a.createElement("div",{className:"row",key:"row-".concat(a)},e.map((function(e,t){return r.a.createElement("span",{"data-target":"".concat(t,"-").concat(a),key:"row-".concat(t,"-").concat(a),className:"".concat(0===e?"row-item":"row-item ship"," ").concat("H"===e?"hit":null)},0===e?"o":e)})))})))))}));var h=Object(c.b)((function(e){return{playerTurn:e.playerTurn,gameEnd:e.gameEnd,gameStarted:e.gameStarted}}),(function(e){return{playerFire:function(a){return e({type:"PLAYER_FIRE",payload:a})},endPlayerTurn:function(){return e({type:"PLAYER_TURN",payload:null})},computerFire:function(){return e({type:"COMPUTER_FIRE",payload:null})}}}))((function(e){var a=e.coords,t=e.char,n=e.playerFire,l=e.playerTurn,o=e.endPlayerTurn,c=e.computerFire,u=e.gameStarted;return r.a.createElement("div",{className:"row-item guess-item ".concat("M"===t?"miss":null," ").concat("H"===t?"hit":null),onClick:function(){if(u&&0===t&&l){o();var e=a.split("-");n(e.map((function(e){return parseInt(e)}))),setTimeout((function(){c()}),2e3)}}},r.a.createElement("span",null,0===t?"o":t))}));var d=Object(c.b)((function(e){return{gameBoard:e.gameBoard}}))((function(e){var a=e.gameBoard;return r.a.createElement("div",{className:"grid"},r.a.createElement(i,null),r.a.createElement("div",{className:"grid-container"},r.a.createElement(m,null),r.a.createElement("div",{className:"col"},a.map((function(e,a){return r.a.createElement("div",{className:"row",key:"row-".concat(a)},e.map((function(e,t){return r.a.createElement(h,{coords:"".concat(t,"-").concat(a),char:e,key:"row-".concat(t,"-").concat(a),className:0===e?"row-item":"row-item ship"})})))})))))}));var E=Object(c.b)((function(e){return{gameLog:e.gameLog}}))((function(e){var a=e.gameLog;return e.computerSunk,r.a.createElement("div",null,r.a.createElement("h3",null,"Game Log"),r.a.createElement("div",{className:"logs"},a.length>0?a.map((function(e,a){return a<9?r.a.createElement("span",null,e.player,": ",e.col," ",e.row," ",e.turn," ",e.ship?"".concat(e.ship," sunk"):null):null})):null))}));t(24);var f=Object(c.b)((function(e){return{computerSunk:e.computerShips.sunk,playerSunk:e.playerShips.sunk}}))((function(e){var a=e.computerSunk,t=e.playerSunk;return console.log(a),r.a.createElement("div",{className:"sunk-log"},r.a.createElement("h3",null,"Sunk Ships"),r.a.createElement("div",null,r.a.createElement("div",{className:"sunk"},r.a.createElement("div",null,r.a.createElement("h4",null,"Player Ships"),r.a.createElement("div",{className:"sunk-log"},t.length>0?t.map((function(e){return r.a.createElement("span",null,e)})):null)),r.a.createElement("div",null,r.a.createElement("h4",null,"Computer Ships"),r.a.createElement("div",{className:"sunk-ships"},a.length>0?a.map((function(e){return r.a.createElement("span",null,e)})):null)))))}));var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"React Battleship"),r.a.createElement(u,null)),r.a.createElement("div",{className:"board-layout"},r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(E,null)),r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(f,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=t(8),y=t(6),b=t(2);function k(){for(var e=[],a=0;a<10;a++){for(var t=[],n=0;n<10;n++)t.push(0);e.push(t)}return e}function S(){var e=k();return function(e){["Patrol Boat","Destroyer","Sub","Battleship","Carrier"].forEach((function(a){for(var t=N(a).len,n=Math.ceil(6*Math.random())%2===0?"vertical":"horizontal",r=Math.floor(10*Math.random()),l=w(Math.floor(10*Math.random()),r,n,t);!B(l.col,l.row,n,t,e);){var o=Math.floor(10*Math.random());l=w(Math.floor(10*Math.random()),o,n,t)}!function(e,a,t,n,r){var l=N(t),o=l.len,c=l.char;if("vertical"===n)for(var u=0;u<o;u++){r[a+u][e]=c}if("horizontal"===n)for(var i=0;i<o;i++){var s=e+i;r[a][s]=c}}(l.col,l.row,a,n,e)}))}(e),e}function B(e,a,t,n,r){if("vertical"===t)for(var l=0;l<n;l++){if(r[a+l][e])return!1}else if("horizontal"===t)for(var o=0;o<n;o++){var c=e+o;if(r[a][c])return!1}return!0}function w(e,a,t,n){var r={col:e,row:a};if("vertical"===t)for(;r.row+n>10;)r.row=Math.floor(10*Math.random());if("horizontal"===t)for(;r.col+n>10;)r.col=Math.floor(10*Math.random());return r}function N(e){switch(e){case"Patrol Boat":return{len:2,char:"P"};case"Destroyer":return{len:3,char:"D"};case"Sub":return{len:3,char:"S"};case"Battleship":return{len:4,char:"B"};case"Carrier":return{len:5,char:"C"};default:return}}function O(e,a,t,n){var r=Object(y.a)(a,2),l=r[0],o=r[1];return Object(b.a)({player:e,col:P(l),row:o+1,turn:t},n?{ship:n}:{})}function P(e){return["A","B","C","D","E","F","H","I","J","K"][e]}function C(){var e=k(),a=[];return e.map((function(e,t){return e.map((function(e,n){return a.push("".concat(n,"-").concat(t))}))})),a}function M(e,a,t,n){return e.map((function(e,r){return r!==a?e:e.map((function(e,a){return a!==t?e:n}))}))}var j={playerBoard:k(),computerBoard:S(),gameBoard:k(),computerMoves:C(),gameLog:[],gameStarted:!1,playerShips:{P:{name:"Patrol Boat",len:2,hits:0},D:{name:"Destroyer",len:3,hits:0},S:{name:"Submarine",len:3,hits:0},B:{name:"Battleship",len:4,hits:0},C:{name:"Carrier",len:5,hits:0},sunk:[]},computerShips:{P:{name:"Patrol Boat",len:2,hits:0},D:{name:"Destroyer",len:3,hits:0},S:{name:"Submarine",len:3,hits:0},B:{name:"Battleship",len:4,hits:0},C:{name:"Carrier",len:5,hits:0},sunk:[]},playerSunk:[],computerSunk:[],playerTurn:!0,gameEnd:!1,winner:"",notes:!0};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GENERATE_BOARD":return Object(b.a)({},e,{playerBoard:S()});case"PLAYER_FIRE":var t=Object(y.a)(a.payload,2),n=t[0],r=t[1],l=function(e,a,t){var n=Object(y.a)(e,2),r=n[0],l=n[1],o={};if(0===a[l][r])o.shot="M",o.log=O("Player",[r,l],"Miss",null);else{var c=null,u=t.sunk;o.shot="H",t[a[l][r]].hits++;var i=t[a[l][r]],m=i.name,p=i.len;i.hits>=p&&(c=m,u=[].concat(Object(s.a)(t.sunk),[m])),o=Object(b.a)({shot:"H",ships:Object(b.a)({},t,{sunk:u}),log:O("Player",[r,l],"Hit",c)},5===u.length?{gameEnd:!0,winner:"Player"}:{})}return o}([n,r],e.computerBoard,e.computerShips),o=Object(b.a)({gameBoard:M(e.gameBoard,r,n,l.shot),gameLog:[l.log].concat(Object(s.a)(e.gameLog))},l.ships?{computerShips:l.ships}:{},{},l.sunk?{computerSunk:[].concat(Object(s.a)(e.computerSunk),[l.sunk])}:{},{},l.gameEnd?{gameEnd:!0,winner:"Player",playerTurn:!1}:{});return Object(b.a)({},e,{},o);case"COMPUTER_FIRE":if(e.gameEnd)return e;var c=function(e,a,t){var n=Math.floor(Math.random()*e.length),r=e[n].split("-"),l=parseInt(r[0]),o=parseInt(r[1]),c={};if(0===t[o][l])c.log=O("Computer",[l,o],"Miss",null);else{var u=null,i=a.sunk;c.shot="H",a[t[o][l]].hits++;var m=a[t[o][l]],p=m.name,h=m.len;m.hits>=h&&(u=p,i=[].concat(Object(s.a)(a.sunk),[p])),c=Object(b.a)({shot:"H",ships:Object(b.a)({},a,{sunk:i}),log:O("Computer",[l,o],"Hit",u),col:l,row:o},5===i.length?{gameEnd:!0}:{})}return c.moves=e.filter((function(e,a){return a!==n})),c}(e.computerMoves,e.playerShips,e.playerBoard);return Object(b.a)({},e,{gameLog:[c.log].concat(Object(s.a)(e.gameLog)),playerTurn:!0,computerMoves:c.moves},c.ships?{playerShips:c.ships}:{},{},c.shot?{playerBoard:M(e.playerBoard,c.row,c.col,c.shot)}:{},{},c.gameEnd?{gameEnd:!0,winner:"Computer",playerTurn:!1}:{});case"ACCEPT_SHIP_PLACEMENT":return Object(b.a)({},e,{gameStarted:!0});case"PLAYER_TURN":return Object(b.a)({},e,{playerTurn:!e.playerTurn});case"HIDE_NOTES":return Object(b.a)({},e,{notes:!e.notes});case"END_GAME":return{playerBoard:k(),computerBoard:S(),gameBoard:k(),computerMoves:C(),gameLog:[],gameStarted:!1,playerShips:{P:{name:"Patrol Boat",len:2,hits:0},D:{name:"Destroyer",len:3,hits:0},S:{name:"Submarine",len:3,hits:0},B:{name:"Battleship",len:4,hits:0},C:{name:"Carrier",len:5,hits:0},sunk:[]},computerShips:{P:{name:"Patrol Boat",len:2,hits:0},D:{name:"Destroyer",len:3,hits:0},S:{name:"Submarine",len:3,hits:0},B:{name:"Battleship",len:4,hits:0},C:{name:"Carrier",len:5,hits:0},sunk:[]},playerSunk:[],computerSunk:[],playerTurn:!0,gameEnd:!1,winner:"",notes:e.notes};default:return e}},A=Object(g.b)(T);o.a.render(r.a.createElement(c.a,{store:A},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9467b5a9.chunk.js.map